## AWS 클라우드 기반 나의 첫 웹 애플리케이션 만들기

발표자 : 윤석찬, AWS 수석테크에반젤리스트

### 주요내용

#### AWS Amplify

우선은 정적인 웹페이지를 사용할때의 장점에 대해서 설명함. 깃허브와 연동으로 특정 브랜치에 이벤트 발생시 후킹을 통한 자동 배포 기능에 대한 설명.

#### Amazon Light Sail

워드 프레스를 이용한 사이트 운용에 대한 설명으로 Light Sail에서의 AZ사용, Load Balancer연결, 공통 Data base의 사용에 대한 설명

개인적으로는 여기서 좀더 다뤘으면 하는게 많았지만 간단한 설명으로 끝났다. 여기는 내가 생각하는 것이 과연 구현 가능한지 다른글에서 적어보기로 하겠다.

#### Elastic Beanstalk

AWS Amplify이나 Amazon Light Sail 을 사용한다 하더라도 가용성을 위해서는 EC2를 사용하라고 설명함. 즉 두가지 기능은 aws의 입문용 과정으로 사용하기 쉽게 만들어 줄테니 우리꺼를 써봐라 라는 느낌으로 다가옴.(이건 개인적 사견)

코드만 배포하면 미리 설정해 놓은 서버 구성, 로드 밸런싱, 자동확장, 비용 절감, 패치 및 모니터링을 제공해 준다고 함

전체 강의의 반을 이것을 위해 할애함

- 어플리케이션 명,  플랫폼(Docker, Go, Java등)을 선정

- 샘플을 사용할지 코드 업로드를 사용할지 정할 수 있음

  - 코드 업로드는 로컬, s3를 설정할 수 있음 

    > 왜 s3를 퍼블릭 s3 url이라고 하는지 퍼블릭만 올릴수 있는거라면 기업에선 소스코드 공개를 원치 않을텐데 저건 확인해 보고 싶다.

- 세미나여서 샘플 어플리케이션을 배포함.
- 앱의 배포 이력은 애플리케이션 버전에 기록되어 있음 이것을 통해 롤백등이 가능할 것으로 보임

##### 추가옵션 구성

- 상단에 구성 사전 설정에 단일, 스팟, 고가용성 등의 설명이 있음
  여기서 스팟 인스턴스에 대한 이야기가 나오는데 배치작업을 할 때 사용하면 좋을 거 같다는 이야기를 함
- 고가용성 선택
  단일 + 로드밸런서를 선택해 줌 / 배포 방식 설정에 대해 선택할 수 있음
- 고가용성(스팟 및 온디맨드)
  단일 인스턴스 + 스팟 인스턴스, 알림, 데이터베이스 설정가능

#### Elastic Beanstalk - Cli관리

```shell
# Elastic Beanstalk 초기화 - 리전, 보안키, 플랫폼, 키페어 등
$ eb init
# DNS 설정, 로드밸런싱 타입, 운영 환경 설정
$ eb create
# 코드 수정 및 애플리케이션 배포
$ git commit
$ eb deploy
```

[레퍼런스](https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb-cli3.html)

#### 소규모 팀이 반복적인 개발 및 배포를 하는 경우

AWS CodeStar - 소규모 팀의 프로젝트에서 데브옵스 기반 개발 및 배포 운영을 위한 완전 관리 서비스

Code Commit, Code Build, Code Deploy 로 코드를 만들고 배포하며 그것을 관리하는 것이 code pipeline

위의 것을 모니터링 하는 것이 cloud watch

##### AWS CodeStar

- 프로젝트 템플릿 선택
  애플리케이션 범주, 언어, aws 서비스 등의 범주로 배포가능
- 위의 pipeline, cloud watch등 개별설정을 한번에 해주는 서비스
- 지라등 외부툴과의 연동도 가능(이슈트래킹 기능)
- iam으로 만든 팀원관리 기능도 존재함